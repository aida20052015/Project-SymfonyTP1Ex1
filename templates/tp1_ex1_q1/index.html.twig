{% extends 'base.html.twig' %}

{% block title %}Exercice 2 - JavaScript{% endblock %}

{% block body %}
    {# ----- Question 2-1 ----- #}
    <h3>2-1 : Calcul d'âge</h3>
    <button onclick="calculAge()">Calculer mon âge</button>
    <p id="id_age"></p>

    {# ----- Question 2-2 ----- #}
    <h3>2-2 : Effet survol</h3>
    <p class="hover-effect">Survolez-moi pour voir l'effet</p>

    {# ----- Question 2-3 ----- #}
    <h3>2-3 : Liste des BUT</h3>
    <ul id="listeBUT">
        <li>BUT RT</li>
        <li>BUT GIM</li>
    </ul>
    <button onclick="ajouterBUT()">Ajouter</button>
    <button onclick="supprimerDernier()">Supprimer</button>

    {# ----- JavaScript intégré ----- #}
    <script>
        // Question 2-1
        function calculAge() {
            const annee = prompt("Entrez votre année de naissance :");
            if (!isNaN(annee)) {
                const age = new Date().getFullYear() - parseInt(annee);
                document.getElementById('id_age').textContent = `Vous avez ${age} ans`;
            }
        }

        // Question 2-2
        document.querySelector('.hover-effect').addEventListener('mouseover', function() {
            this.style.fontSize = '30px';
            this.style.color = 'red';
            this.style.fontStyle = 'italic';
        });
        document.querySelector('.hover-effect').addEventListener('mouseout', function() {
            this.style = '';
        });

        // Question 2-3
        function ajouterBUT() {
            const nom = prompt("Nom du nouveau BUT :");
            if (nom) {
                const li = document.createElement('li');
                li.textContent = nom;
                document.getElementById('listeBUT').appendChild(li);
            }
        }
        function supprimerDernier() {
            const liste = document.getElementById('listeBUT');
            if (liste.children.length > 0) {
                liste.removeChild(liste.lastElementChild);
            }
        }
    </script>
{% endblock %}